const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-DTO0vLzF.js","assets/index-DTptM68F.js","assets/index-DB2aoBPU.css"])))=>i.map(i=>d[i]);
import{b4 as z,y as J}from"./index-DTptM68F.js";function S(){return!!window.Capacitor?.isNativePlatform?.()}/*! Capacitor: https://capacitorjs.com/ - MIT License */var L;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(L||(L={}));class D extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const N=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Z=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:N(t),i=()=>r()!=="web",a=c=>{const d=g.get(c);return!!(d?.platforms.has(r())||o(c))},o=c=>{var d;return(d=n.PluginHeaders)===null||d===void 0?void 0:d.find(k=>k.name===c)},l=c=>t.console.error(c),g=new Map,E=(c,d={})=>{const k=g.get(c);if(k)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),k.proxy;const y=r(),C=o(c);let p;const H=async()=>(!p&&y in d?p=typeof d[y]=="function"?p=await d[y]():p=d[y]:e!==null&&!p&&"web"in d&&(p=typeof d.web=="function"?p=await d.web():p=d.web),p),G=(u,m)=>{var h,v;if(C){const w=C?.methods.find(f=>m===f.name);if(w)return w.rtype==="promise"?f=>n.nativePromise(c,m.toString(),f):(f,A)=>n.nativeCallback(c,m.toString(),f,A);if(u)return(h=u[m])===null||h===void 0?void 0:h.bind(u)}else{if(u)return(v=u[m])===null||v===void 0?void 0:v.bind(u);throw new D(`"${c}" plugin is not implemented on ${y}`,L.Unimplemented)}},j=u=>{let m;const h=(...v)=>{const w=H().then(f=>{const A=G(f,u);if(A){const O=A(...v);return m=O?.remove,O}else throw new D(`"${c}.${u}()" is not implemented on ${y}`,L.Unimplemented)});return u==="addListener"&&(w.remove=async()=>m()),w};return h.toString=()=>`${u.toString()}() { [capacitor code] }`,Object.defineProperty(h,"name",{value:u,writable:!1,configurable:!1}),h},I=j("addListener"),R=j("removeListener"),M=(u,m)=>{const h=I({eventName:u},m),v=async()=>{const f=await h;R({eventName:u,callbackId:f},m)},w=new Promise(f=>h.then(()=>f({remove:v})));return w.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await v()},w},x=new Proxy({},{get(u,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?M:I;case"removeListener":return R;default:return j(m)}}});return s[c]=x,g.set(c,{name:c,proxy:x,platforms:new Set([...Object.keys(d),...C?[y]:[]])}),x};return n.convertFileSrc||(n.convertFileSrc=c=>c),n.getPlatform=r,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=E,n.Exception=D,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},q=t=>t.Capacitor=Z(t),P=q(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),B=P.registerPlugin;class V{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const r=this.listeners[e];if(!r){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}r.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new P.Exception(e,L.Unimplemented)}unavailable(e="not available"){return new P.Exception(e,L.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const r=s.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const $=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X extends V{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=K(r).trim(),i=K(i).trim(),n[r]=i}),n}async setCookie(e){try{const n=$(e.key),s=$(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${r}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}B("CapacitorCookies",{web:()=>new X});const Y=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const r=s.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},s.onerror=r=>n(r),s.readAsDataURL(t)}),Q=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,a)=>(r[i]=t[e[a]],r),{})},ee=(t,e=!0)=>t?Object.entries(t).reduce((s,r)=>{const[i,a]=r;let o,l;return Array.isArray(a)?(l="",a.forEach(g=>{o=e?encodeURIComponent(g):g,l+=`${i}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${i}=${o}`),`${s}&${l}`},"").substr(1):null,te=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=Q(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);n.body=i.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{i.append(l,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class ne extends V{async request(e){const n=te(e,e.webFetchExtra),s=ee(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,i=await fetch(r,n),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let l,g;switch(o){case"arraybuffer":case"blob":g=await i.blob(),l=await Y(g);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const E={};return i.headers.forEach((c,d)=>{E[d]=c}),{data:l,headers:E,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}B("CapacitorHttp",{web:()=>new ne});function re(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(s,r){return(i,a,o)=>{const l=t.Capacitor.Plugins[n];if(l===void 0){o(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[r]!="function"){o(new Error(`Method ${r} not found in Capacitor plugin ${n}`));return}(async()=>{try{const g=await l[r](i);a(g)}catch(g){o(g)}})()}}})}})}function ie(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function se(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?re(window):window.cordova!==void 0&&ie(window))}var T;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(T||(T={}));var U;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(U||(U={}));const F=B("Filesystem",{web:()=>z(()=>import("./web-DTO0vLzF.js"),__vite__mapDeps([0,1,2])).then(t=>new t.FilesystemWeb)});se();const _=[{id:crypto.randomUUID(),name:"Beispiel-Sorte",vendor:"Beispiel-Hersteller",valLaugh:3,valEat:2,valCreative:4,valDerp:1,valSnooze:2,valFocus:1,valTaste:5,valOverall:3}];function W(){return S()?P.getPlatform()==="android"?T.External:T.Data:void 0}const oe=J({strains:[],columnVisibility:{laugh:!0,munchies:!0,creativity:!0,derpyness:!0,energy:!0,focus:!0,taste:!0,overall:!0,notes:!0},async loadStrains(){if(S()){const t=W();try{const e=await F.readFile({path:"strains.json",directory:t,encoding:U.UTF8}),n=JSON.parse(e.data);n.sort((s,r)=>{const i=(s.vendor||"").toLowerCase(),a=(r.vendor||"").toLowerCase();if(i!==a)return i.localeCompare(a);const o=(s.name||"").toLowerCase(),l=(r.name||"").toLowerCase();return o.localeCompare(l)}),this.strains.splice(0,this.strains.length,...n)}catch{this.strains.splice(0,this.strains.length,..._),await this.saveStrains()}}else{const t=localStorage.getItem("strains");if(t){const n=JSON.parse(t);n.sort((s,r)=>{const i=(s.vendor||"").toLowerCase(),a=(r.vendor||"").toLowerCase();if(i!==a)return i.localeCompare(a);const o=(s.name||"").toLowerCase(),l=(r.name||"").toLowerCase();return o.localeCompare(l)}),this.strains.splice(0,this.strains.length,...n)}else this.strains.splice(0,this.strains.length,..._),this.saveStrains();const e=localStorage.getItem("columnVisibility");e&&Object.assign(this.columnVisibility,JSON.parse(e))}},async saveStrains(){if(S()){const t=W();try{await F.writeFile({path:"strains.json",data:JSON.stringify(this.strains),directory:t,encoding:U.UTF8})}catch(e){console.error("Fehler beim Schreiben der Datei",e)}}else localStorage.setItem("strains",JSON.stringify(this.strains))},async saveColumnVisibility(){S()||localStorage.setItem("columnVisibility",JSON.stringify(this.columnVisibility))},toggleColumn(t){this.columnVisibility[t]=!this.columnVisibility[t],this.saveColumnVisibility()},async importStrains(t){if(!Array.isArray(t))throw new Error("Invalid data format");const e=t.filter(n=>n&&typeof n.name=="string"&&n.name.trim()!=="").map(n=>({...n,id:n.id||crypto.randomUUID(),createdAt:n.createdAt||Date.now(),updatedAt:n.updatedAt||Date.now()}));return e.sort((n,s)=>{const r=(n.vendor||"").toLowerCase(),i=(s.vendor||"").toLowerCase();if(r!==i)return r.localeCompare(i);const a=(n.name||"").toLowerCase(),o=(s.name||"").toLowerCase();return a.localeCompare(o)}),this.strains.splice(0,this.strains.length,...e),await this.saveStrains(),e.length},async addStrain(t){const e={...t,id:t.id||crypto.randomUUID()};return this.strains.push(e),this.strains.sort((n,s)=>{const r=(n.vendor||"").toLowerCase(),i=(s.vendor||"").toLowerCase();if(r!==i)return r.localeCompare(i);const a=(n.name||"").toLowerCase(),o=(s.name||"").toLowerCase();return a.localeCompare(o)}),await this.saveStrains(),e},async updateStrain(t){const e=this.strains.findIndex(n=>n.id===t.id);return e!==-1?(this.strains[e]={...t},this.strains.sort((n,s)=>{const r=(n.vendor||"").toLowerCase(),i=(s.vendor||"").toLowerCase();if(r!==i)return r.localeCompare(i);const a=(n.name||"").toLowerCase(),o=(s.name||"").toLowerCase();return a.localeCompare(o)}),await this.saveStrains(),!0):!1},async deleteStrain(t){const e=this.strains.findIndex(n=>n.id===t);return e!==-1?(this.strains.splice(e,1),await this.saveStrains(),!0):!1},getStrainById(t){return this.strains.find(e=>e.id===t)},exportStrains(){const t=this.strains.map(r=>({...r,exportedAt:Date.now()})),e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=`strains-backup-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(n)}}),b={valLaugh:{key:"valLaugh",label:"Lachflash",icon:"/lachflash.png",columnKey:"laugh",description:"Zeigt die Lachflash-Bewertung in der Tabelle an",sliderDescription:"Wie stark ist die euphorische, lustige Wirkung?"},valEat:{key:"valEat",label:"Appetit",icon:"/fressflash.png",columnKey:"munchies",description:"Zeigt die Hunger-Bewertung in der Tabelle an",sliderDescription:"Wie stark wird der Appetit angeregt? Und wo sind die verdammten Oreos?"},valCreative:{key:"valCreative",label:"Kreativität",icon:"/kreativ.png",columnKey:"creativity",description:"Zeigt die Kreativitäts-Bewertung in der Tabelle an",sliderDescription:"Krawehl, Krawehl! Wie sehr fördert die Sorte kreative Gedanken?"},valDerp:{key:"valDerp",label:"Verpeiltheit",icon:"/verpeilt.png",columnKey:"derpyness",description:"Zeigt die Verpeilt-Bewertung in der Tabelle an",sliderDescription:"Wie stark ist die verwirrende/benebelnde Wirkung?"},valSnooze:{key:"valSnooze",label:"Müdigkeit",icon:"/snooze.png",columnKey:"energy",description:"Zeigt die Müdigkeit-Bewertung in der Tabelle an",sliderDescription:"Wie müde macht die Sorte?"},valFocus:{key:"valFocus",label:"Fokus",icon:"/focus.png",columnKey:"focus",description:"Zeigt die Fokus-Bewertung in der Tabelle an",sliderDescription:"Wie fokussiert bist du nach dem Konsum?"},valEnergy:{key:"valActivity",label:"Aktivität",icon:"/activity.png",columnKey:"activity",description:"Zeigt die Aktivitäts-Bewertung in der Tabelle an",sliderDescription:"wie hoch ist der Tatendrang und die Fitness?"},valTaste:{key:"valTaste",label:"Geschmack",icon:"/taste.png",columnKey:"taste",description:"Zeigt die Geschmacks-Bewertung in der Tabelle an",sliderDescription:"Beerige Noten? Eher erdig im Abgang?"},valOverall:{key:"valOverall",label:"Gesamtnote",icon:"/overall.png",columnKey:"overall",description:"Zeigt die Gesamtnote in der Tabelle an",sliderDescription:"Wie bewertest du die Sorte insgesamt?"}},le=t=>Object.values(b).filter(e=>!e.columnKey||t[e.columnKey]),ce=()=>Object.values(b).filter(t=>t.key!=="valOverall");Object.fromEntries(Object.values(b).map(t=>[t.key,t.icon]));Object.fromEntries(Object.values(b).map(t=>[t.key,t.label]));Object.fromEntries(Object.values(b).filter(t=>t.columnKey).map(t=>[t.key,t.columnKey]));({...Object.fromEntries(Object.values(b).filter(t=>t.columnKey).map(t=>[t.columnKey,t.label]))});const de=5,ue=[{title:"Home",icon:"home",link:"/"},{title:"Sorten anzeigen",icon:"search",link:"/show"},{title:"Sorte hinzufügen",icon:"add_comment",link:"/add"},{title:"Einstellungen",icon:"settings",link:"/settings"},{title:"Über die App",icon:"info",link:"/about"}],me={id:"",name:"",vendor:"",...Object.fromEntries(Object.keys(b).map(t=>[t,0]))};export{me as D,U as E,de as M,ue as N,b as R,V as W,le as a,te as b,ce as g,B as r,oe as s};
