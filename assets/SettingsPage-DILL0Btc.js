import{r as R,a as h,B as E,C as m,D as a,I as e,G as t,J as n,W as f,X as r,N as p,O as b,P as I,R as Q,L as u,aG as B,S as v,Q as x}from"./index-DTptM68F.js";import{Q as N}from"./QPage-hq0Z0rK2.js";import{R as A,s as l,g as O}from"./index-nDMpE3w7.js";import{u as q}from"./use-quasar-BHhhvGzu.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"page-hero q-mb-lg"},F={class:"hero-content"},G={class:"settings-container"},J={class:"header-content"},K={class:"columns-grid"},P={class:"toggle-container"},T={class:"toggle-info"},U=["src","alt"],W={class:"toggle-text"},M={class:"toggle-label"},j={class:"toggle-description"},$={class:"header-content"},X={class:"data-actions"},H={class:"action-group"},Y={class:"action-info"},Z={class:"action-group"},ee={class:"action-info"},se={class:"header-content"},te={class:"app-info"},oe={class:"info-grid"},ae={class:"info-item"},ne={class:"info-value"},ie={class:"info-item"},le={class:"info-value"},re={class:"info-item"},de={class:"info-item"},ce={__name:"SettingsPage",setup(pe){const d=q(),_=R(null),y=h(()=>Object.values(A).filter(i=>i.columnKey)),S=h(()=>{if(l.strains.length===0)return 0;const i=O().map(o=>o.key);return l.strains.reduce((o,c)=>{const g=i.reduce((D,k)=>D+c[k],0)/i.length;return o+g},0)/l.strains.length}),w=()=>{try{l.exportStrains(),d.notify({type:"positive",message:"Daten erfolgreich exportiert",icon:"download",position:"top"})}catch{d.notify({type:"negative",message:"Fehler beim Exportieren",position:"top"})}},z=()=>{_.value.click()},C=i=>{const s=i.target.files[0];if(s){const o=new FileReader;o.onload=()=>{try{const c=JSON.parse(o.result);if(!Array.isArray(c))throw new Error("Ungültiges Datenformat");const g=l.importStrains(c);d.notify({type:"positive",message:`${g} Sorten erfolgreich importiert`,icon:"upload",position:"top"}),i.target.value=""}catch{d.notify({type:"negative",message:"Ungültige JSON-Datei oder Datenformat",position:"top"}),i.target.value=""}},o.readAsText(s)}};return(i,s)=>(m(),E(N,{class:"settings-page q-pa-md"},{default:a(()=>[e("div",V,[e("div",F,[t(n,{name:"settings",size:"48px",color:"blue-6",class:"q-mb-md"}),s[0]||(s[0]=e("h4",{class:"hero-title"},"Einstellungen",-1)),s[1]||(s[1]=e("p",{class:"hero-subtitle"},"Passe deine RateMyWeed Erfahrung an",-1))])]),e("div",G,[t(f,{class:"settings-card q-mb-lg"},{default:a(()=>[t(r,{class:"card-header"},{default:a(()=>[e("div",J,[t(n,{name:"view_column",size:"24px",color:"blue-6"}),s[2]||(s[2]=e("div",{class:"header-text"},[e("div",{class:"header-title"},"Tabellen-Ansicht"),e("div",{class:"header-subtitle"},"Wähle welche Bewertungsspalten angezeigt werden sollen")],-1))])]),_:1}),t(p),t(r,{class:"card-body compact-columns"},{default:a(()=>[e("div",K,[(m(!0),b(I,null,Q(y.value,o=>(m(),b("div",{key:o.columnKey,class:"column-item"},[e("div",P,[e("div",T,[e("img",{src:o.icon,alt:o.label,class:"column-icon"},null,8,U),e("div",W,[e("div",M,u(o.label),1),e("div",j,u(o.description),1)])]),t(B,{"model-value":v(l).columnVisibility[o.columnKey],"onUpdate:modelValue":()=>v(l).toggleColumn(o.columnKey),color:"blue-6",dense:"",size:"sm",class:"column-toggle"},null,8,["model-value","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1}),t(f,{class:"settings-card q-mb-lg"},{default:a(()=>[t(r,{class:"card-header"},{default:a(()=>[e("div",$,[t(n,{name:"import_export",size:"24px",color:"blue-6"}),s[3]||(s[3]=e("div",{class:"header-text"},[e("div",{class:"header-title"},"Datenverwaltung"),e("div",{class:"header-subtitle"},"Exportiere oder importiere deine Sortensammlung")],-1))])]),_:1}),t(p),t(r,{class:"card-body"},{default:a(()=>[e("div",X,[e("div",H,[e("div",Y,[t(n,{name:"file_download",size:"32px",color:"green-6"}),s[4]||(s[4]=e("div",{class:"action-text"},[e("div",{class:"action-title"},"Daten exportieren"),e("div",{class:"action-description"},"Lade deine komplette Sortensammlung als JSON-Datei herunter")],-1))]),t(x,{unelevated:"",color:"green-6",icon:"download",label:"Exportieren",onClick:w,class:"action-btn"})]),t(p,{spaced:""}),e("div",Z,[e("div",ee,[t(n,{name:"file_upload",size:"32px",color:"orange-6"}),s[5]||(s[5]=e("div",{class:"action-text"},[e("div",{class:"action-title"},"Daten importieren"),e("div",{class:"action-description"},"Lade eine JSON-Datei hoch um Sorten zu importieren")],-1))]),t(x,{unelevated:"",color:"orange-6",icon:"upload",label:"Importieren",onClick:z,class:"action-btn"})])]),e("input",{ref_key:"fileInput",ref:_,type:"file",accept:".json",class:"hidden",onChange:C},null,544)]),_:1})]),_:1}),t(f,{class:"settings-card"},{default:a(()=>[t(r,{class:"card-header"},{default:a(()=>[e("div",se,[t(n,{name:"info",size:"24px",color:"blue-6"}),s[6]||(s[6]=e("div",{class:"header-text"},[e("div",{class:"header-title"},"App Information"),e("div",{class:"header-subtitle"},"Über RateMyWeed")],-1))])]),_:1}),t(p),t(r,{class:"card-body"},{default:a(()=>[e("div",te,[e("div",oe,[e("div",ae,[t(n,{name:"spa",color:"green-6",size:"20px"}),s[7]||(s[7]=e("span",{class:"info-label"},"Gespeicherte Sorten:",-1)),e("span",ne,u(v(l).strains.length),1)]),e("div",ie,[t(n,{name:"star",color:"amber-6",size:"20px"}),s[8]||(s[8]=e("span",{class:"info-label"},"Durchschnittsbewertung:",-1)),e("span",le,u(S.value.toFixed(1))+"/5",1)]),e("div",re,[t(n,{name:"code",color:"blue-6",size:"20px"}),s[9]||(s[9]=e("span",{class:"info-label"},"Version:",-1)),s[10]||(s[10]=e("span",{class:"info-value"},"1.0.0",-1))]),e("div",de,[t(n,{name:"storage",color:"purple-6",size:"20px"}),s[11]||(s[11]=e("span",{class:"info-label"},"Speicherort:",-1)),s[12]||(s[12]=e("span",{class:"info-value"},"Browser LocalStorage",-1))])]),s[13]||(s[13]=e("div",{class:"app-description q-mt-lg"},[e("p",{class:"text-grey-7"}," RateMyWeed ist deine persönliche Cannabis-Sortenverwaltung. Bewerte deine Lieblingssorten nach verschiedenen Effekten und behalte den Überblick über deine Sammlung. ")],-1))])]),_:1})]),_:1})])]),_:1}))}},_e=L(ce,[["__scopeId","data-v-b3a2273e"]]);export{_e as default};
