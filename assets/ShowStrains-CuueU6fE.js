import{Q as nt}from"./QChip-BFVYNsz-.js";import{c as We,Z as Lt,_ as ut,$ as zt,a0 as qt,n as ll,g as ot,r as O,a as f,w as Ve,e as fe,a1 as al,a2 as nl,a3 as ul,a4 as ol,d as it,h as F,a5 as il,a6 as rl,a7 as Vt,a8 as sl,a9 as qe,aa as cl,ab as et,ac as we,ad as dl,ae as fl,J as Ke,af as Ae,ag as vl,ah as Et,A as ml,ai as gl,O as Te,C as be,I as J,G as z,S as Sl,D as Y,aj as hl,W as tt,E as bl,Q as Qe,K as Ct,H as Mt,X as kt,Y as yl,U as Rt,P as pt,R as _t,B as xl,L as ye,ak as wl,M as Vl,al as Cl}from"./index-CpW3-iVN.js";import{Q as At,C as Ml}from"./ClosePopup-DmMX32SU.js";import{b as je,c as kl,a as Bt,Q as Rl}from"./QList-DeJdjSdP.js";import{Q as pl}from"./QMenu-CKZ1XmfE.js";import{n as Tt,u as _l,a as Al,b as Tl,c as Oe,k as Ol}from"./use-slider-DaIPPoS_.js";import{s as xe,g as Fl,R as Il}from"./index-Rq3Ye2ad.js";import{u as Ll}from"./use-quasar-BPrO0skq.js";import{_ as zl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./position-engine-CH0L0J3K.js";import"./selection-Ba8Ytq5U.js";const ql=We({name:"QField",inheritAttrs:!1,props:{...ut,tag:{type:String,default:"label"}},emits:Lt,setup(){return zt(qt({tagProp:!0}))}});let Ue=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const d=document.createElement("div");Object.assign(d.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(d),e.scrollLeft=-1e3,Ue=e.scrollLeft>=0,e.remove()}const ne=1e3,El=["start","center","end","start-force","center-force","end-force"],Dt=Array.prototype.filter,Bl=window.getComputedStyle(document.body).overflowAnchor===void 0?ll:function(e,d){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const c=e.children||[];Dt.call(c,S=>S.dataset&&S.dataset.qVsAnchor!==void 0).forEach(S=>{delete S.dataset.qVsAnchor});const a=c[d];a?.dataset&&(a.dataset.qVsAnchor="")}))};function Fe(e,d){return e+d}function lt(e,d,c,a,S,r,R,v){const n=e===window?document.scrollingElement||document.documentElement:e,I=S===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-R-v,scrollMaxSize:0,offsetStart:-R,offsetEnd:-v};if(S===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=n.scrollLeft,s.scrollViewSize+=n.clientWidth),s.scrollMaxSize=n.scrollWidth,r===!0&&(s.scrollStart=(Ue===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=n.scrollTop,s.scrollViewSize+=n.clientHeight),s.scrollMaxSize=n.scrollHeight),c!==null)for(let b=c.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=b[I]);if(a!==null)for(let b=a.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=b[I]);if(d!==e){const b=n.getBoundingClientRect(),w=d.getBoundingClientRect();S===!0?(s.offsetStart+=w.left-b.left,s.offsetEnd-=w.width):(s.offsetStart+=w.top-b.top,s.offsetEnd-=w.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Ot(e,d,c,a){d==="end"&&(d=(e===window?document.body:e)[c===!0?"scrollWidth":"scrollHeight"]),e===window?c===!0?(a===!0&&(d=(Ue===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-d),window.scrollTo(d,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d):c===!0?(a===!0&&(d=(Ue===!0?e.scrollWidth-e.offsetWidth:0)-d),e.scrollLeft=d):e.scrollTop=d}function Ee(e,d,c,a){if(c>=a)return 0;const S=d.length,r=Math.floor(c/ne),R=Math.floor((a-1)/ne)+1;let v=e.slice(r,R).reduce(Fe,0);return c%ne!==0&&(v-=d.slice(r*ne,c).reduce(Fe,0)),a%ne!==0&&a!==S&&(v-=d.slice(a,R*ne).reduce(Fe,0)),v}const Dl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ft={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Dl};function Hl({virtualScrollLength:e,getVirtualScrollTarget:d,getVirtualScrollEl:c,virtualScrollItemSizeComputed:a}){const S=ot(),{props:r,emit:R,proxy:v}=S,{$q:n}=v;let I,s,b,w=[],A;const q=O(0),h=O(0),T=O({}),N=O(null),j=O(null),U=O(null),y=O({from:0,to:0}),g=f(()=>r.tableColspan!==void 0?r.tableColspan:100);a===void 0&&(a=f(()=>r.virtualScrollItemSize));const m=f(()=>a.value+";"+r.virtualScrollHorizontal),E=f(()=>m.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);Ve(E,()=>{P()}),Ve(m,Z);function Z(){B(s,!0)}function ue(l){B(l===void 0?s:l)}function ae(l,i){const V=d();if(V==null||V.nodeType===8)return;const H=lt(V,c(),N.value,j.value,r.virtualScrollHorizontal,n.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);b!==H.scrollViewSize&&P(H.scrollViewSize),k(V,H,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,El.indexOf(i)!==-1?i:s!==-1&&l>s?"end":"start")}function ve(){const l=d();if(l==null||l.nodeType===8)return;const i=lt(l,c(),N.value,j.value,r.virtualScrollHorizontal,n.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),V=e.value-1,H=i.scrollMaxSize-i.offsetStart-i.offsetEnd-h.value;if(I===i.scrollStart)return;if(i.scrollMaxSize<=0){k(l,i,0,0);return}b!==i.scrollViewSize&&P(i.scrollViewSize),p(y.value.from);const W=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(A[V],i.scrollViewSize/2));if(W>0&&Math.ceil(i.scrollStart)>=W){k(l,i,V,i.scrollMaxSize-i.offsetEnd-w.reduce(Fe,0));return}let _=0,M=i.scrollStart-i.offsetStart,X=M;if(M<=H&&M+i.scrollViewSize>=q.value)M-=q.value,_=y.value.from,X=M;else for(let C=0;M>=w[C]&&_<V;C++)M-=w[C],_+=ne;for(;M>0&&_<V;)M-=A[_],M>-i.scrollViewSize?(_++,X=M):X=A[_]+M;k(l,i,_,X)}function k(l,i,V,H,W){const _=typeof W=="string"&&W.indexOf("-force")!==-1,M=_===!0?W.replace("-force",""):W,X=M!==void 0?M:"start";let C=Math.max(0,V-T.value[X]),te=C+T.value.total;te>e.value&&(te=e.value,C=Math.max(0,te-T.value.total)),I=i.scrollStart;const ce=C!==y.value.from||te!==y.value.to;if(ce===!1&&M===void 0){$(V);return}const{activeElement:Be}=document,ie=U.value;ce===!0&&ie!==null&&ie!==Be&&ie.contains(Be)===!0&&(ie.addEventListener("focusout",Q),setTimeout(()=>{ie?.removeEventListener("focusout",Q)})),Bl(ie,V-C);const De=M!==void 0?A.slice(C,V).reduce(Fe,0):0;if(ce===!0){const me=te>=y.value.from&&C<=y.value.to?y.value.to:te;y.value={from:C,to:me},q.value=Ee(w,A,0,C),h.value=Ee(w,A,te,e.value),requestAnimationFrame(()=>{y.value.to!==te&&I===i.scrollStart&&(y.value={from:y.value.from,to:te},h.value=Ee(w,A,te,e.value))})}requestAnimationFrame(()=>{if(I!==i.scrollStart)return;ce===!0&&p(C);const me=A.slice(C,V).reduce(Fe,0),ge=me+i.offsetStart+q.value,He=ge+A[V];let Ie=ge+H;if(M!==void 0){const Xe=me-De,Le=i.scrollStart+Xe;Ie=_!==!0&&Le<ge&&He<Le+i.scrollViewSize?Le:M==="end"?He-i.scrollViewSize:ge-(M==="start"?0:Math.round((i.scrollViewSize-A[V])/2))}I=Ie,Ot(l,Ie,r.virtualScrollHorizontal,n.lang.rtl),$(V)})}function p(l){const i=U.value;if(i){const V=Dt.call(i.children,C=>C.classList&&C.classList.contains("q-virtual-scroll--skip")===!1),H=V.length,W=r.virtualScrollHorizontal===!0?C=>C.getBoundingClientRect().width:C=>C.offsetHeight;let _=l,M,X;for(let C=0;C<H;){for(M=W(V[C]),C++;C<H&&V[C].classList.contains("q-virtual-scroll--with-prev")===!0;)M+=W(V[C]),C++;X=M-A[_],X!==0&&(A[_]+=X,w[Math.floor(_/ne)]+=X),_++}}}function Q(){U.value?.focus()}function B(l,i){const V=1*a.value;(i===!0||Array.isArray(A)===!1)&&(A=[]);const H=A.length;A.length=e.value;for(let _=e.value-1;_>=H;_--)A[_]=V;const W=Math.floor((e.value-1)/ne);w=[];for(let _=0;_<=W;_++){let M=0;const X=Math.min((_+1)*ne,e.value);for(let C=_*ne;C<X;C++)M+=A[C];w.push(M)}s=-1,I=void 0,q.value=Ee(w,A,0,y.value.from),h.value=Ee(w,A,y.value.to,e.value),l>=0?(p(y.value.from),fe(()=>{ae(l)})):ee()}function P(l){if(l===void 0&&typeof window<"u"){const M=d();M!=null&&M.nodeType!==8&&(l=lt(M,c(),N.value,j.value,r.virtualScrollHorizontal,n.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}b=l;const i=parseFloat(r.virtualScrollSliceRatioBefore)||0,V=parseFloat(r.virtualScrollSliceRatioAfter)||0,H=1+i+V,W=l===void 0||l<=0?1:Math.ceil(l/a.value),_=Math.max(1,W,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/H));T.value={total:Math.ceil(_*H),start:Math.ceil(_*i),center:Math.ceil(_*(.5+i)),end:Math.ceil(_*(1+i)),view:W}}function re(l,i){const V=r.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+V]:a.value+"px"};return[l==="tbody"?F(l,{class:"q-virtual-scroll__padding",key:"before",ref:N},[F("tr",[F("td",{style:{[V]:`${q.value}px`,...H},colspan:g.value})])]):F(l,{class:"q-virtual-scroll__padding",key:"before",ref:N,style:{[V]:`${q.value}px`,...H}}),F(l,{class:"q-virtual-scroll__content",key:"content",ref:U,tabindex:-1},i.flat()),l==="tbody"?F(l,{class:"q-virtual-scroll__padding",key:"after",ref:j},[F("tr",[F("td",{style:{[V]:`${h.value}px`,...H},colspan:g.value})])]):F(l,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[V]:`${h.value}px`,...H}})]}function $(l){s!==l&&(r.onVirtualScroll!==void 0&&R("virtualScroll",{index:l,from:y.value.from,to:y.value.to-1,direction:l<s?"decrease":"increase",ref:v}),s=l)}P();const ee=al(ve,n.platform.is.ios===!0?120:35);nl(()=>{P()});let se=!1;return ul(()=>{se=!0}),ol(()=>{if(se!==!0)return;const l=d();I!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?Ot(l,I,r.virtualScrollHorizontal,n.lang.rtl):ae(s)}),it(()=>{ee.cancel()}),Object.assign(v,{scrollTo:ae,reset:Z,refresh:ue}),{virtualScrollSliceRange:y,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:P,onVirtualScrollEvt:ee,localResetVirtualScroll:B,padVirtualScroll:re,scrollTo:ae,reset:Z,refresh:ue}}const It=e=>["add","add-unique","toggle"].includes(e),$l=".*+?^${}()|[]\\",Nl=Object.keys(ut);function at(e,d){if(typeof e=="function")return e;const c=e!==void 0?e:d;return a=>a!==null&&typeof a=="object"&&c in a?a[c]:a}const Pl=We({name:"QSelect",inheritAttrs:!1,props:{...Ft,...il,...ut,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:It},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ft.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Lt,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:d,emit:c}){const{proxy:a}=ot(),{$q:S}=a,r=O(!1),R=O(!1),v=O(-1),n=O(""),I=O(!1),s=O(!1);let b=null,w=null,A,q,h,T=null,N,j,U,y;const g=O(null),m=O(null),E=O(null),Z=O(null),ue=O(null),ae=rl(e),ve=sl(ht),k=f(()=>Array.isArray(e.options)?e.options.length:0),p=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:B,localResetVirtualScroll:P,padVirtualScroll:re,onVirtualScrollEvt:$,scrollTo:ee,setVirtualScrollSize:se}=Hl({virtualScrollLength:k,getVirtualScrollTarget:Pt,getVirtualScrollEl:gt,virtualScrollItemSizeComputed:p}),l=qt(),i=f(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,u=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const o=e.mapOptions===!0&&A!==void 0?A:[],x=u.map(D=>Nt(D,o));return e.modelValue===null&&t===!0?x.filter(D=>D!==null):x}return u}),V=f(()=>{const t={};return Nl.forEach(u=>{const o=e[u];o!==void 0&&(t[u]=o)}),t}),H=f(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),W=f(()=>Vt(i.value)),_=f(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=f(()=>k.value===0),C=f(()=>i.value.map(t=>le.value(t)).join(", ")),te=f(()=>e.displayValue!==void 0?e.displayValue:C.value),ce=f(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),Be=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(ce.value))),ie=f(()=>l.focused.value===!0?e.tabindex:-1),De=f(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${v.value}`),t}),me=f(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ge=f(()=>i.value.map((t,u)=>({index:u,opt:t,html:ce.value(t),selected:!0,removeAtIndex:$t,toggleOption:Se,tabindex:ie.value}))),He=f(()=>{if(k.value===0)return[];const{from:t,to:u}=Q.value;return e.options.slice(t,u).map((o,x)=>{const D=Ce.value(o)===!0,L=Ge(o)===!0,G=t+x,K={clickable:!0,active:L,activeClass:Le.value,manualFocus:!0,focused:!1,disable:D,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":L===!0?"true":"false",id:`${l.targetUid.value}_${G}`,onClick:()=>{Se(o)}};return D!==!0&&(v.value===G&&(K.focused=!0),S.platform.is.desktop===!0&&(K.onMousemove=()=>{r.value===!0&&Me(G)})),{index:G,opt:o,html:ce.value(o),label:le.value(o),selected:K.active,focused:K.focused,toggleOption:Se,setOptionIndex:Me,itemProps:K}})}),Ie=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:S.iconSet.arrow.dropdown),Xe=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Le=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=f(()=>at(e.optionValue,"value")),le=f(()=>at(e.optionLabel,"label")),Ce=f(()=>at(e.optionDisable,"disable")),$e=f(()=>i.value.map(oe.value)),Ht=f(()=>{const t={onInput:ht,onChange:ve,onKeydown:mt,onKeyup:ft,onKeypress:vt,onFocus:ct,onClick(u){q===!0&&Ae(u)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ve,t});Ve(i,t=>{A=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(R.value!==!0&&r.value!==!0||W.value!==!0)&&(h!==!0&&_e(),(R.value===!0||r.value===!0)&&ke(""))},{immediate:!0}),Ve(()=>e.fillInput,_e),Ve(r,Je),Ve(k,tl);function rt(t){return e.emitValue===!0?oe.value(t):t}function Ye(t){if(t!==-1&&t<i.value.length)if(e.multiple===!0){const u=e.modelValue.slice();c("remove",{index:t,value:u.splice(t,1)[0]}),c("update:modelValue",u)}else c("update:modelValue",null)}function $t(t){Ye(t),l.focus()}function st(t,u){const o=rt(t);if(e.multiple!==!0){e.fillInput===!0&&ze(le.value(t),!0,!0),c("update:modelValue",o);return}if(i.value.length===0){c("add",{index:0,value:o}),c("update:modelValue",e.multiple===!0?[o]:o);return}if(u===!0&&Ge(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const x=e.modelValue.slice();c("add",{index:x.length,value:o}),x.push(o),c("update:modelValue",x)}function Se(t,u){if(l.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const o=oe.value(t);if(e.multiple!==!0){u!==!0&&(ze(e.fillInput===!0?le.value(t):"",!0,!0),he()),m.value?.focus(),(i.value.length===0||qe(oe.value(i.value[0]),o)!==!0)&&c("update:modelValue",e.emitValue===!0?o:t);return}if((q!==!0||I.value===!0)&&l.focus(),ct(),i.value.length===0){const L=e.emitValue===!0?o:t;c("add",{index:0,value:L}),c("update:modelValue",e.multiple===!0?[L]:L);return}const x=e.modelValue.slice(),D=$e.value.findIndex(L=>qe(L,o));if(D!==-1)c("remove",{index:D,value:x.splice(D,1)[0]});else{if(e.maxValues!==void 0&&x.length>=e.maxValues)return;const L=e.emitValue===!0?o:t;c("add",{index:x.length,value:L}),x.push(L)}c("update:modelValue",x)}function Me(t){if(S.platform.is.desktop!==!0)return;const u=t!==-1&&t<k.value?t:-1;v.value!==u&&(v.value=u)}function Ne(t=1,u){if(r.value===!0){let o=v.value;do o=Tt(o+t,-1,k.value-1);while(o!==-1&&o!==v.value&&Ce.value(e.options[o])===!0);v.value!==o&&(Me(o),ee(o),u!==!0&&e.useInput===!0&&e.fillInput===!0&&Pe(o>=0?le.value(e.options[o]):N,!0))}}function Nt(t,u){const o=x=>qe(oe.value(x),t);return e.options.find(o)||u.find(o)||t}function Ge(t){const u=oe.value(t);return $e.value.find(o=>qe(o,u))!==void 0}function ct(t){e.useInput===!0&&m.value!==null&&(t===void 0||m.value===t.target&&t.target.value===C.value)&&m.value.select()}function dt(t){vl(t,27)===!0&&r.value===!0&&(Ae(t),he(),_e()),c("keyup",t)}function ft(t){const{value:u}=t.target;if(t.keyCode!==void 0){dt(t);return}if(t.target.value="",b!==null&&(clearTimeout(b),b=null),w!==null&&(clearTimeout(w),w=null),_e(),typeof u=="string"&&u.length!==0){const o=u.toLocaleLowerCase(),x=L=>{const G=e.options.find(K=>String(L.value(K)).toLocaleLowerCase()===o);return G===void 0?!1:(i.value.indexOf(G)===-1?Se(G):he(),!0)},D=L=>{x(oe)!==!0&&L!==!0&&x(le)!==!0&&ke(u,!0,()=>D(!0))};D()}else l.clearValue(t)}function vt(t){c("keypress",t)}function mt(t){if(c("keydown",t),cl(t)===!0)return;const u=n.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),o=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||u===!0);if(t.keyCode===27){et(t);return}if(t.keyCode===9&&o===!1){Re();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&r.value===!1){we(t),pe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&n.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ye(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&c("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof n.value!="string"||n.value.length===0)&&(we(t),v.value=-1,Ne(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&B.value!==void 0&&(we(t),v.value=Math.max(-1,Math.min(k.value,v.value+(t.keyCode===33?-1:1)*B.value.view)),Ne(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(we(t),Ne(t.keyCode===38?-1:1,e.multiple));const x=k.value;if((U===void 0||y<Date.now())&&(U=""),x>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||U.length!==0)){r.value!==!0&&pe(t);const D=t.key.toLocaleLowerCase(),L=U.length===1&&U[0]===D;y=Date.now()+1500,L===!1&&(we(t),U+=D);const G=new RegExp("^"+U.split("").map(Ze=>$l.indexOf(Ze)!==-1?"\\"+Ze:Ze).join(".*"),"i");let K=v.value;if(L===!0||K<0||G.test(le.value(e.options[K]))!==!0)do K=Tt(K+1,-1,x-1);while(K!==v.value&&(Ce.value(e.options[K])===!0||G.test(le.value(e.options[K]))!==!0));v.value!==K&&fe(()=>{Me(K),ee(K),K>=0&&e.useInput===!0&&e.fillInput===!0&&Pe(le.value(e.options[K]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||U!=="")&&(t.keyCode!==9||o===!1))){if(t.keyCode!==9&&we(t),v.value!==-1&&v.value<x){Se(e.options[v.value]);return}if(u===!0){const D=(L,G)=>{if(G){if(It(G)!==!0)return}else G=e.newValueMode;if(ze("",e.multiple!==!0,!0),L==null)return;(G==="toggle"?Se:st)(L,G==="add-unique"),e.multiple!==!0&&(m.value?.focus(),he())};if(e.onNewValue!==void 0?c("newValue",n.value,D):D(n.value),e.multiple!==!0)return}r.value===!0?Re():l.innerLoading.value!==!0&&pe()}}function gt(){return q===!0?ue.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function Pt(){return gt()}function Qt(){return e.hideSelected===!0?[]:d["selected-item"]!==void 0?ge.value.map(t=>d["selected-item"](t)).slice():d.selected!==void 0?[].concat(d.selected()):e.useChips===!0?ge.value.map((t,u)=>F(nt,{key:"option-"+u,removable:l.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ie.value,onRemove(){t.removeAtIndex(u)}},()=>F("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[F("span",{class:"ellipsis",[Be.value===!0?"innerHTML":"textContent"]:te.value})]}function St(){if(X.value===!0)return d["no-option"]!==void 0?d["no-option"]({inputValue:n.value}):void 0;const t=d.option!==void 0?d.option:o=>F(Bt,{key:o.index,...o.itemProps},()=>F(je,()=>F(kl,()=>F("span",{[o.html===!0?"innerHTML":"textContent"]:o.label}))));let u=re("div",He.value.map(t));return d["before-options"]!==void 0&&(u=d["before-options"]().concat(u)),ml(d["after-options"],u)}function Kt(t,u){const o=u===!0?{...De.value,...l.splitAttrs.attributes.value}:void 0,x={ref:u===!0?m:void 0,key:"i_t",class:_.value,style:e.inputStyle,value:n.value!==void 0?n.value:"",type:"search",...o,id:u===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Ht.value};return t!==!0&&q===!0&&(Array.isArray(x.class)===!0?x.class=[...x.class,"no-pointer-events"]:x.class+=" no-pointer-events"),F("input",x)}function ht(t){b!==null&&(clearTimeout(b),b=null),w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&(Pe(t.target.value||""),h=!0,N=n.value,l.focused.value!==!0&&(q!==!0||I.value===!0)&&l.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,ke(n.value)},e.inputDebounce)))}function Pe(t,u){n.value!==t&&(n.value=t,u===!0||e.inputDebounce===0||e.inputDebounce==="0"?c("inputValue",t):w=setTimeout(()=>{w=null,c("inputValue",t)},e.inputDebounce))}function ze(t,u,o){h=o!==!0,e.useInput===!0&&(Pe(t,!0),(u===!0||o!==!0)&&(N=t),u!==!0&&ke(t))}function ke(t,u,o){if(e.onFilter===void 0||u!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?c("filterAbort"):(l.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&i.value.length!==0&&h!==!0&&t===le.value(i.value[0])&&(t="");const x=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);T!==null&&clearTimeout(T),T=x,c("filter",t,(D,L)=>{(u===!0||l.focused.value===!0)&&T===x&&(clearTimeout(T),typeof D=="function"&&D(),s.value=!1,fe(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(u===!0?r.value===!0&&he():r.value===!0?Je(!0):r.value=!0),typeof L=="function"&&fe(()=>{L(a)}),typeof o=="function"&&fe(()=>{o(a)})}))},()=>{l.focused.value===!0&&T===x&&(clearTimeout(T),l.innerLoading.value=!1,s.value=!1),r.value===!0&&(r.value=!1)})}function jt(){return F(pl,{ref:E,class:M.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Xe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...me.value,onScrollPassive:$,onBeforeShow:yt,onBeforeHide:Ut,onShow:Wt},St)}function Ut(t){xt(t),Re()}function Wt(){se()}function Xt(t){Ae(t),m.value?.focus(),I.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Yt(t){Ae(t),fe(()=>{I.value=!1})}function Gt(){const t=[F(ql,{class:`col-auto ${l.fieldClass.value}`,...V.value,for:l.targetUid.value,dark:H.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:n.value.length!==0,...l.splitAttrs.listeners.value,onFocus:Xt,onBlur:Yt},{...d,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&t.push(F("div",{ref:ue,class:M.value+" scroll",style:e.popupContentStyle,...me.value,onClick:et,onScrollPassive:$},St())),F(Et,{ref:Z,modelValue:R.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:yt,onBeforeHide:Jt,onHide:Zt,onShow:el},()=>F("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(I.value===!0?" q-select__dialog--focused":"")},t))}function Jt(t){xt(t),Z.value!==null&&Z.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function Zt(t){he(),l.focused.value===!1&&c("blur",t),_e()}function el(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&m.value!==null&&m.value!==t&&m.value.focus(),se()}function Re(){R.value!==!0&&(v.value=-1,r.value===!0&&(r.value=!1),l.focused.value===!1&&(T!==null&&(clearTimeout(T),T=null),l.innerLoading.value===!0&&(c("filterAbort"),l.innerLoading.value=!1,s.value=!1)))}function pe(t){l.editable.value===!0&&(q===!0?(l.onControlFocusin(t),R.value=!0,fe(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?ke(n.value):(X.value!==!0||d["no-option"]!==void 0)&&(r.value=!0))}function he(){R.value=!1,Re()}function _e(){e.useInput===!0&&ze(e.multiple!==!0&&e.fillInput===!0&&i.value.length!==0&&le.value(i.value[0])||"",!0,!0)}function Je(t){let u=-1;if(t===!0){if(i.value.length!==0){const o=oe.value(i.value[0]);u=e.options.findIndex(x=>qe(oe.value(x),o))}P(u)}Me(u)}function tl(t,u){r.value===!0&&l.innerLoading.value===!1&&(P(-1,!0),fe(()=>{r.value===!0&&l.innerLoading.value===!1&&(t>u?P():Je(!0))}))}function bt(){R.value===!1&&E.value!==null&&E.value.updatePosition()}function yt(t){t!==void 0&&Ae(t),c("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function xt(t){t!==void 0&&Ae(t),c("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function wt(){q=S.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?d["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),j=S.platform.is.ios===!0&&q===!0&&e.useInput===!0?"fade":e.transitionShow}return dl(wt),fl(bt),wt(),it(()=>{b!==null&&clearTimeout(b),w!==null&&clearTimeout(w)}),Object.assign(a,{showPopup:pe,hidePopup:he,removeAtIndex:Ye,add:st,toggleOption:Se,getOptionIndex:()=>v.value,setOptionIndex:Me,moveOptionSelection:Ne,filter:ke,updateMenuPosition:bt,updateInputValue:ze,isOptionSelected:Ge,getEmittingOptionValue:rt,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>oe.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(l,{innerValue:i,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:g,targetRef:m,hasValue:W,showPopup:pe,floatingLabel:f(()=>e.hideSelected!==!0&&W.value===!0||typeof n.value=="number"||n.value.length!==0||Vt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(R.value===!0||X.value!==!0||d["no-option"]!==void 0))return q===!0?Gt():jt();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{_e(),Re()})},onClick(t){if(et(t),q!==!0&&r.value===!0){Re(),m.value?.focus();return}pe(t)}},getControl:t=>{const u=Qt(),o=t===!0||R.value!==!0||q!==!0;if(e.useInput===!0)u.push(Kt(t,o));else if(l.editable.value===!0){const D=o===!0?De.value:void 0;u.push(F("input",{ref:o===!0?m:void 0,key:"d_t",class:"q-select__focus-target",id:o===!0?l.targetUid.value:void 0,value:te.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...D,onKeydown:mt,onKeyup:dt,onKeypress:vt})),o===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&u.push(F("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ft}))}if(ae.value!==void 0&&e.disable!==!0&&$e.value.length!==0){const D=$e.value.map(L=>F("option",{value:L,selected:!0}));u.push(F("select",{class:"hidden",name:ae.value,multiple:e.multiple},D))}const x=e.useInput===!0||o!==!0?void 0:l.splitAttrs.attributes.value;return F("div",{class:"q-field__native row items-center",...x,...l.splitAttrs.listeners.value},u)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[F(Ke,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:Ie.value})]:null}),zt(l)}}),de={MIN:0,RANGE:1,MAX:2},Ql=We({name:"QRange",props:{...Al,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:e=>"min"in e&&"max"in e},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:_l,setup(e,{emit:d}){const{proxy:{$q:c}}=ot(),{state:a,methods:S}=Tl({updateValue:Z,updatePosition:ae,getDragging:ue,formAttrs:f(()=>({type:"hidden",name:e.name,value:`${e.modelValue.min}|${e.modelValue.max}`}))}),r=O(null),R=O(0),v=O(0),n=O({min:0,max:0});function I(){n.value.min=e.modelValue.min===null?a.innerMin.value:Oe(e.modelValue.min,a.innerMin.value,a.innerMax.value),n.value.max=e.modelValue.max===null?a.innerMax.value:Oe(e.modelValue.max,a.innerMin.value,a.innerMax.value)}Ve(()=>`${e.modelValue.min}|${e.modelValue.max}|${a.innerMin.value}|${a.innerMax.value}`,I),I();const s=f(()=>S.convertModelToRatio(n.value.min)),b=f(()=>S.convertModelToRatio(n.value.max)),w=f(()=>a.active.value===!0?R.value:s.value),A=f(()=>a.active.value===!0?v.value:b.value),q=f(()=>{const k={[a.positionProp.value]:`${100*w.value}%`,[a.sizeProp.value]:`${100*(A.value-w.value)}%`};return e.selectionImg!==void 0&&(k.backgroundImage=`url(${e.selectionImg}) !important`),k}),h=f(()=>{if(a.editable.value!==!0)return{};if(c.platform.is.mobile===!0)return{onClick:S.onMobileClick};const k={onMousedown:S.onActivate};return(e.dragRange===!0||e.dragOnlyRange===!0)&&Object.assign(k,{onFocus:()=>{a.focus.value="both"},onBlur:S.onBlur,onKeydown:ve,onKeyup:S.onKeyup}),k});function T(k){return c.platform.is.mobile!==!0&&a.editable.value===!0&&e.dragOnlyRange!==!0?{onFocus:()=>{a.focus.value=k},onBlur:S.onBlur,onKeydown:ve,onKeyup:S.onKeyup}:{}}const N=f(()=>e.dragOnlyRange!==!0?a.tabindex.value:null),j=f(()=>c.platform.is.mobile!==!0&&(e.dragRange||e.dragOnlyRange===!0)?a.tabindex.value:null),U=O(null),y=f(()=>T("min")),g=S.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:U,key:"tmin",...y.value,tabindex:N.value}),ratio:w,label:f(()=>e.leftLabelValue!==void 0?e.leftLabelValue:n.value.min),thumbColor:f(()=>e.leftThumbColor||e.thumbColor||e.color),labelColor:f(()=>e.leftLabelColor||e.labelColor),labelTextColor:f(()=>e.leftLabelTextColor||e.labelTextColor)}),m=f(()=>T("max")),E=S.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...m.value,key:"tmax",tabindex:N.value}),ratio:A,label:f(()=>e.rightLabelValue!==void 0?e.rightLabelValue:n.value.max),thumbColor:f(()=>e.rightThumbColor||e.thumbColor||e.color),labelColor:f(()=>e.rightLabelColor||e.labelColor),labelTextColor:f(()=>e.rightLabelTextColor||e.labelTextColor)});function Z(k){(n.value.min!==e.modelValue.min||n.value.max!==e.modelValue.max)&&d("update:modelValue",{...n.value}),k===!0&&d("change",{...n.value})}function ue(k){const{left:p,top:Q,width:B,height:P}=r.value.getBoundingClientRect(),re=e.dragOnlyRange===!0?0:e.vertical===!0?U.value.offsetHeight/(2*P):U.value.offsetWidth/(2*B),$={left:p,top:Q,width:B,height:P,valueMin:n.value.min,valueMax:n.value.max,ratioMin:s.value,ratioMax:b.value},ee=S.getDraggingRatio(k,$);return e.dragOnlyRange!==!0&&ee<$.ratioMin+re?$.type=de.MIN:e.dragOnlyRange===!0||ee<$.ratioMax-re?e.dragRange===!0||e.dragOnlyRange===!0?($.type=de.RANGE,Object.assign($,{offsetRatio:ee,offsetModel:S.convertRatioToModel(ee),rangeValue:$.valueMax-$.valueMin,rangeRatio:$.ratioMax-$.ratioMin})):$.type=$.ratioMax-ee<ee-$.ratioMin?de.MAX:de.MIN:$.type=de.MAX,$}function ae(k,p=a.dragging.value){let Q;const B=S.getDraggingRatio(k,p),P=S.convertRatioToModel(B);switch(p.type){case de.MIN:B<=p.ratioMax?(Q={minR:B,maxR:p.ratioMax,min:P,max:p.valueMax},a.focus.value="min"):(Q={minR:p.ratioMax,maxR:B,min:p.valueMax,max:P},a.focus.value="max");break;case de.MAX:B>=p.ratioMin?(Q={minR:p.ratioMin,maxR:B,min:p.valueMin,max:P},a.focus.value="max"):(Q={minR:B,maxR:p.ratioMin,min:P,max:p.valueMin},a.focus.value="min");break;case de.RANGE:const re=B-p.offsetRatio,$=Oe(p.ratioMin+re,a.innerMinRatio.value,a.innerMaxRatio.value-p.rangeRatio),ee=P-p.offsetModel,se=Oe(p.valueMin+ee,a.innerMin.value,a.innerMax.value-p.rangeValue);Q={minR:$,maxR:$+p.rangeRatio,min:a.roundValueFn.value(se),max:a.roundValueFn.value(se+p.rangeValue)},a.focus.value="both";break}n.value=n.value.min===null||n.value.max===null?{min:Q.min||e.min,max:Q.max||e.max}:{min:Q.min,max:Q.max},e.snap!==!0||e.step===0?(R.value=Q.minR,v.value=Q.maxR):(R.value=S.convertModelToRatio(n.value.min),v.value=S.convertModelToRatio(n.value.max))}function ve(k){if(Ol.includes(k.keyCode)===!1)return;we(k);const p=([34,33].includes(k.keyCode)?10:1)*a.keyStep.value,Q=([34,37,40].includes(k.keyCode)?-1:1)*(a.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*p;if(a.focus.value==="both"){const B=n.value.max-n.value.min,P=Oe(a.roundValueFn.value(n.value.min+Q),a.innerMin.value,a.innerMax.value-B);n.value={min:P,max:a.roundValueFn.value(P+B)}}else{if(a.focus.value===!1)return;{const B=a.focus.value;n.value={...n.value,[B]:Oe(a.roundValueFn.value(n.value[B]+Q),B==="min"?a.innerMin.value:n.value.min,B==="max"?a.innerMax.value:n.value.max)}}}Z()}return()=>{const k=S.getContent(q,j,h,p=>{p.push(g(),E())});return F("div",{ref:r,class:"q-range "+a.classes.value+(e.modelValue.min===null||e.modelValue.max===null?" q-slider--no-value":""),...a.attributes.value,"aria-valuenow":e.modelValue.min+"|"+e.modelValue.max},k)}}}),Kl=We({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:d,emit:c}){let a=!1,S,r,R=null,v=null,n,I;function s(){S?.(),S=null,a=!1,R!==null&&(clearTimeout(R),R=null),v!==null&&(clearTimeout(v),v=null),r?.removeEventListener("transitionend",n),n=null}function b(h,T,N){T!==void 0&&(h.style.height=`${T}px`),h.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,S=N}function w(h,T){h.style.overflowY=null,h.style.height=null,h.style.transition=null,s(),T!==I&&c(T)}function A(h,T){let N=0;r=h,a===!0?(s(),N=h.offsetHeight===h.scrollHeight?0:void 0):(I="hide",h.style.overflowY="hidden"),b(h,N,T),R=setTimeout(()=>{R=null,h.style.height=`${h.scrollHeight}px`,n=j=>{v=null,(Object(j)!==j||j.target===h)&&w(h,"show")},h.addEventListener("transitionend",n),v=setTimeout(n,e.duration*1.1)},100)}function q(h,T){let N;r=h,a===!0?s():(I="show",h.style.overflowY="hidden",N=h.scrollHeight),b(h,N,T),R=setTimeout(()=>{R=null,h.style.height=0,n=j=>{v=null,(Object(j)!==j||j.target===h)&&w(h,"hide")},h.addEventListener("transitionend",n),v=setTimeout(n,e.duration*1.1)},100)}return it(()=>{a===!0&&s()}),()=>F(gl,{css:!1,appear:e.appear,onEnter:A,onLeave:q},d.default)}}),jl={class:"q-pa-md strains-page"},Ul={class:"strains-hero q-mb-lg"},Wl={class:"hero-content"},Xl={class:"stats-chips"},Yl={class:"search-container q-mb-lg"},Gl={class:"filter-panel q-mt-md"},Jl={class:"row q-gutter-md"},Zl={class:"text-subtitle1"},ea={class:"text-caption"},ta={class:"text-caption"},la={class:"top-two row q-mt-xs"},aa=["src","alt"],na={class:"text-caption q-ml-xs"},ua={key:0,class:"full-width row flex-center q-gutter-sm no-data"},oa={class:"q-ml-sm"},ia={__name:"ShowStrains",setup(e){const d=Ll(),c=bl(),a=O(""),S=O(null),r=O("asc"),R=O(!1),v=O(null),n=O({min:0,max:5}),I=O(!1),s=O(null),b=y=>Il[y],w=f(()=>xe.strains.length?xe.strains.reduce((y,g)=>y+g.valOverall,0)/xe.strains.length:0),A=f(()=>{const y=xe.strains.map(g=>g.vendor).filter(g=>!!g);return Array.from(new Set(y)).sort()}),q=f(()=>{let y=xe.strains.filter(g=>{const m=a.value.toLowerCase(),E=g.name.toLowerCase().includes(m)||g.vendor.toLowerCase().includes(m),Z=!v.value||g.vendor===v.value,ue=g.valOverall||0,ae=ue>=n.value.min&&ue<=n.value.max;return E&&Z&&ae});return S.value&&y.sort((g,m)=>{const E=g[S.value],Z=m[S.value];return r.value==="asc"?E-Z:Z-E}),y}),h=y=>Fl().map(m=>m.key).map(m=>({key:m,value:y[m]||0})).sort((m,E)=>E.value-m.value).slice(0,2),T=y=>`Hinzugefügt: ${new Date(y.createdAt||Date.now()).toLocaleDateString()}`,N=y=>c.push({name:"detail",params:{id:y}}),j=y=>{s.value=y,I.value=!0},U=()=>{s.value&&(xe.deleteStrain(s.value.id),d.notify({type:"positive",message:`Sorte "${s.value.name}" wurde gelöscht`,icon:"delete"}),s.value=null,I.value=!1)};return(y,g)=>(be(),Te("div",jl,[J("div",Ul,[J("div",Wl,[g[5]||(g[5]=J("h4",{class:"hero-title"},"Cannabis Sorten Übersicht",-1)),g[6]||(g[6]=J("p",{class:"hero-subtitle"},"Verwalte und bewerte deine Lieblingssorten",-1)),J("div",Xl,[z(nt,{class:"stat-chip",icon:"spa",label:`${Sl(xe).strains.length} Sorten`,color:"green-6","text-color":"white"},null,8,["label"]),z(nt,{class:"stat-chip",icon:"star",label:`${w.value.toFixed(1)} ⌀ Rating`,color:"amber-6","text-color":"white"},null,8,["label"])])])]),J("div",Yl,[z(hl,{filled:"",modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=m=>a.value=m),label:"Suche nach Name oder Hersteller...",debounce:"300",clearable:"",class:"search-input"},{prepend:Y(()=>[z(Ke,{name:"search",color:"green-6"})]),append:Y(()=>[z(Qe,{flat:"",dense:"",icon:"tune",color:"green-6",onClick:g[0]||(g[0]=m=>R.value=!R.value)},{default:Y(()=>[z(At,null,{default:Y(()=>g[7]||(g[7]=[Ct("Filter")])),_:1,__:[7]})]),_:1})]),_:1},8,["modelValue"]),z(Kl,null,{default:Y(()=>[Mt(J("div",Gl,[z(tt,{class:"filter-card"},{default:Y(()=>[z(kt,{class:"q-pb-none"},{default:Y(()=>[g[8]||(g[8]=J("div",{class:"text-subtitle2 q-mb-sm"},"Erweiterte Filter",-1)),J("div",Jl,[z(Pl,{modelValue:v.value,"onUpdate:modelValue":g[2]||(g[2]=m=>v.value=m),options:A.value,label:"Hersteller",clearable:"",filled:"",dense:"",class:"col"},null,8,["modelValue","options"]),z(Ql,{modelValue:n.value,"onUpdate:modelValue":g[3]||(g[3]=m=>n.value=m),min:0,max:5,step:.5,"label-always":"","label-value":"Rating Bereich",color:"green-6",class:"col"},null,8,["modelValue"])])]),_:1,__:[8]})]),_:1})],512),[[yl,R.value]])]),_:1})]),z(tt,{class:"list-card"},{default:Y(()=>[z(Rl,{bordered:"",separator:""},{default:Y(()=>[(be(!0),Te(pt,null,_t(q.value,m=>(be(),xl(Bt,{key:m.id,clickable:"",onClick:E=>N(m.id),class:"cursor-pointer"},{default:Y(()=>[z(je,null,{default:Y(()=>[J("div",Zl,ye(m.vendor)+" "+ye(m.name),1),J("div",ea,"Gesamtnote: "+ye(m.valOverall.toFixed(0))+"/5",1),J("div",ta,ye(T(m)),1),g[9]||(g[9]=J("div",{class:"text-caption dominant-label q-mt-xs"},"dominante Effekte",-1)),J("div",la,[(be(!0),Te(pt,null,_t(h(m),E=>(be(),Te("div",{key:E.key,class:"row items-center q-mr-md"},[b(E.key)?.icon?(be(),Te("img",{key:0,src:b(E.key).icon,alt:b(E.key).label,class:"icon-small"},null,8,aa)):Rt("",!0),J("span",na,ye(b(E.key)?.label)+": "+ye(E.value.toFixed(1)),1)]))),128))])]),_:2,__:[9]},1024),z(je,{side:"",top:""},{default:Y(()=>[z(Qe,{flat:"",dense:"",round:"",icon:"delete",color:"red-6",onClick:wl(E=>j(m),["stop"])},{default:Y(()=>[z(At,null,{default:Y(()=>g[10]||(g[10]=[Ct("Löschen")])),_:1,__:[10]})]),_:2},1032,["onClick"])]),_:2},1024),z(je,{side:""},{default:Y(()=>[z(Ke,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128)),q.value.length===0?(be(),Te("div",ua,[z(Ke,{size:"2em",name:"spa",color:"grey-5"}),g[11]||(g[11]=J("span",{class:"text-grey-7"},"Keine Sorten gefunden",-1))])):Rt("",!0)]),_:1})]),_:1}),z(Et,{modelValue:I.value,"onUpdate:modelValue":g[4]||(g[4]=m=>I.value=m),persistent:""},{default:Y(()=>[z(tt,{class:"delete-dialog"},{default:Y(()=>[z(kt,{class:"row items-center"},{default:Y(()=>[z(Vl,{icon:"warning",color:"red","text-color":"white"}),J("span",oa,'Möchtest du die Sorte "'+ye(s.value?.name)+'" wirklich löschen?',1)]),_:1}),z(Cl,{align:"right"},{default:Y(()=>[Mt(z(Qe,{flat:"",label:"Abbrechen",color:"grey"},null,512),[[Ml]]),z(Qe,{flat:"",label:"Löschen",color:"red",onClick:U})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ya=zl(ia,[["__scopeId","data-v-39e00776"]]);export{ya as default};
